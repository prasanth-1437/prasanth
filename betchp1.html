<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js">
</script>
    
    <link rel="stylesheet" type="text/css" href="./btechp1.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/20c5629a29.js" crossorigin="anonymous"></script>
</head>

<body ng-app="myApp">
    <section>
    <div id="hole-container">
        <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light   nav-style fixed-top">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav ml-auto">
                    <a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>
                    <a class="nav-item nav-link" href="#">Features</a>
                    <a class="nav-item nav-link" href="#!addToCart"><div class="cart-opt">Cart<span class="notification" id="24"></span></div></a>
                    <a class="nav-item nav-link" href="#">Pricing</a>
                    <a class="nav-item nav-link disabled" href="#">Disabled</a>
                </div>
            </div>
        </nav></header>
         <!-- carousel starts -->
         <div id="onlyTest">
        <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://www.shakahariblog.com/wp-content/uploads/2014/06/Vegetables1.jpg" class="d-block w-100 carousel-image-style" alt="...">

                    <div class="carousel-caption ">
                        <button class="btn-img"></button>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="http://media-cdn.list.ly/production/198635/headline.jpeg?ver=7800593705" class="d-block w-100 carousel-image-style" alt="...">
                    <div class="carousel-caption ">
                        <button class="btn-img">Get this</button>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="http://kathdedon.files.wordpress.com/2011/01/whole-chicken.jpg" class="d-block w-100 carousel-image-style" alt="...">
                    <div class="carousel-caption ">
                        <button class="btn-img">Get this</button>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://www.collinsdictionary.com/images/full/mutton_343543736.jpg?version=4.0.173 " class="d-block w-100 carousel-image-style" alt="...">
                    <div class="carousel-caption ">
                        <button class="btn-img">Get this</button>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
     
        <div class="main-container" id="main-container">
        </div>
    </div>
</div>
    
<div ng-view ng-app="myApp">
</div>
</section>
    <script type="text/javascript">
        let holecontainer = document.getElementById("main-container");
let detailsholediv = document.getElementById("carrat-details-container");
var allDetails =[{
        id: "vegetables",
        Type: [{
                name: "Carrot",
                Type1: [{
                    link: "https://www.agric.wa.gov.au/sites/gateway/files/carrot-1.jpg",
                    name: "Carrot",
                },
                {
                link: "https://www.gepaghana.org/cms/wp-content/uploads/2017/04/mango.jpg",
                name: "Mango"
                },
                {
                    link: "https://www.agric.wa.gov.au/sites/gateway/files/carrot-1.jpg",
                    name: "Carrot",
                },
                {
                    link: "https://www.agric.wa.gov.au/sites/gateway/files/carrot-1.jpg",
                    name: "Carrot",
                }
                ],
                link: "https://www.agric.wa.gov.au/sites/gateway/files/carrot-1.jpg"
            },

            {
                link: "https://www.almanac.com/sites/default/files/image_nodes/tomatoes_helios4eos_gettyimages-edit.jpeg",
                name: "Tomato"
            },
            {
                link: "https://wallpapercave.com/wp/wp4517399.jpg",
                name: "Cauliflower"
            },
            {
                link: "https://5.imimg.com/data5/BX/RB/MY-38490080/fresh-lady-finger.jpg",
                name: "Lady finger"
            },
            {
                link: "http://www.isaaa.org/kc/cropbiotechupdate/files/images/421202194321AM.jpg",
                name: "Brinjal"
            },
            {
                link: "https://ultracarepro.in/wp-content/uploads/2019/08/d4b7984f4b77cbad8a5b218108563888.jpg",
                name: "Drumsticks"
            },
            {
                link: "https://wallpapercave.com/wp/wp4241271.jpg",
                name: "Red Micchi"
            },
        ],
    },
    {
        id: "Fruits",
        Type: [{
                link: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.36dv19IPIGSjasb937ZDmwHaEK%26pid%3DApi&f=1&ipt=d6c91cebcbab1c289c020e82882dc7f6aa867a8f53d407df96ab0769f1718555&ipo=images",
                name: "Apple"
            },
            {
                link: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse3.mm.bing.net%2Fth%3Fid%3DOIP.VDCz9ikKS_xIPq_Du6LUtQHaEo%26pid%3DApi&f=1&ipt=826afe049f585594f57d3afa5a89f5b72d2a74c9bc89ea855d4576f1db29f81c&ipo=images",
                name: "Orange"
            },
            {
                link: "https://www.gepaghana.org/cms/wp-content/uploads/2017/04/mango.jpg",
                name: "Mango"
            },
            {
                link: "https://images5.alphacoders.com/829/thumb-1920-829868.jpg",
                name: "PineApple"
            },
            {
                link: "https://images6.alphacoders.com/828/828679.jpg",
                name: "Grapes"
            },
            {
                link: "https://images6.alphacoders.com/111/thumb-1920-1113136.jpg",
                name: "Kiwi"
            },
            {
                link: "https://wallpaperaccess.com/full/5317589.jpg",
                name: "Banana"
            },
            {
                link: "https://yesofcorsa.com/wp-content/uploads/2017/03/4K-Pomegranate-Fruit-Photo.jpg",
                name: "Pomegranate"
            },
            {
                link: "",
                name: ""
            },
            {
                link: "",
                name: ""
            },
            {
                link: "",
                name: ""
            },
            {
                link: "",
                name: ""
            }
        ],

    },
    {
        id: "Non-Veg",
        Type: [{
                link: "https://c4.wallpaperflare.com/wallpaper/687/898/540/chicken-board-parsley-white-background-wallpaper-preview.jpg",
                name: "Chiken"
            },
            {
                link: "https://www.collinsdictionary.com/images/full/mutton_343543736.jpg?version=4.0.173",
                name: "Mutton"
            },
            {
                link: "https://thumbs.dreamstime.com/b/picture-shows-image-rohu-fish-most-demanded-common-fish-found-india-fish-local-river-water-fish-185377650.jpg",
                name: "Fish"
            },
            {
                link: " https://wallpapercave.com/wp/wp2209082.jpg",
                name: "Prawns"
            },
            {
                link: " https://images5.alphacoders.com/349/thumb-1920-349133.jpg",
                name: "Crabs"
            }
        ]
    },
    {
        id: "Chiru dhanyalu",
        Type: [{
                link: "https://wallpaperaccess.com/full/1463517.jpg",
                name: "Rice"
            },
            {
                link: "https://media.istockphoto.com/id/652923938/photo/sack-of-wheat-grain-isolated-on-white-background.jpg?s=612x612&w=is&k=20&c=kGxBfgNqpNBAePesoTjsnx3svnRF-tmpWP4U4cjH2sk=",
                name: "Wheat"
            },
            {
                link: "https://c1.wallpaperflare.com/preview/138/819/668/corn-cereals-harvest.jpg",
                name: "Corn Grains"
            },
            {
                link: "https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/I/711MnPVmMyL._SX522_.jpg",
                name: "Barley"
            },
            {
                link: "https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/I/51kj+4G1eqL.jpg",
                name: "Dal"
            }
        ]
    }
];
//localStorage.setItem("m1", JSON.stringify(m1));
function display(m) {
    setTimeout(function() {
    var d = document.getElementById("onlyTest");
    d.classList.remove("hidden");
  }, 1000);
    for (let j = 0; j < m.length; j++) {
        let outerdiv = document.createElement("div");
        outerdiv.classList.add("scroll-1", "mt-3")
        outerdiv.innerHTML = `<div class="side-heading">
    <p>${m[j].id}</p></div>`
        holecontainer.appendChild(outerdiv);
        for (let i = 0; i < m[j].Type.length; i++) {
            let newcontainer = document.createElement("div");
            newcontainer.innerHTML = `<a href="#!${m[j].Type[i].name}">
<img src="${m[j].Type[i].link}" class="image-style" id="img-id" onclick="">
        <p class="item-name">${m[j].Type[i].name}</p></a>`
            outerdiv.appendChild(newcontainer);
        }
    }
}

var app=angular.module("myApp",["ngRoute"]);
app.config(function($routeProvider){
    $routeProvider.when("/",{template : display(allDetails)})
    .when("/Carrot",{template:   function(){  return gett(0,0)} })
   .when("/Tomato",{template: "<h1>/Tomato<h1>" })
   .when("/Chiken",{template: "<h1>Prasanth kumar gudela<h1>"})
   .when("/Kiwi",{template: function(){  return gett(allDetails[1].Type[0])}})
   .when("/Mutton",{template: function(){  return gett(allDetails[1].Type[1])}})
   .when("/addToCart",{template: function(){ return addToCart_Display()}});
});

function gett(j,k)
{
    m=allDetails[j].Type[k];
     setTimeout(function() {
    var d = document.getElementById("onlyTest");
      d.classList.add("hidden");
  }, 0);

  c=`<div class="container col">
        <div class="row">
          <div class="sec-sub1 col-md-8">`
          for(let i=0;i<m.Type1.length;i++)
          {
            c+=`<div class="photo-nd-desc row">
                  <div class="image col-md-4">
                   <img src="${m.Type1[i].link}" class="sec-image">
                   </div>
                   <div class="desc col-md-8">
                      <h1>${m.Type1[i].name}</h1>
                      <h3>Amount Rs.50 /Kg</h3>
                      <form>
                      Enter : <input type="number" min="0.25" placeholder="0.000 in kgs" value="" id="m${m.Type1[i].name}" step="any" required>
                      <p>Available</p>
                     <button class="addToCart-btn" onclick="addToCart('${j}','${k}','${i}')">Add to cart</button>
                      <button class="buyNow-btn">Buy Now</button></form>
                   </div>
                </div>`
            }
    c+=`   </div>
         <div class="sec-sub2 col-md-4">
           <h1>Benifits</h1>
          </div>
        </div></div>`
 return c;
}
//adding element to cart
var addTo=[];
function addToCart(j,k,i){
    addTo.unshift(allDetails[j].Type[k].Type1[i]);
    document.getElementById("24").innerHTML=addTo.length;
    let c=allDetails[j].Type[k].Type1[i].name;
      let form = document.querySelector("#m"+c);
      let val = form.value;
    addTo[0].value=val;
    console.log(addTo);
    console.log(val);
}
//display add to cart
function addToCart_Display(){ 
     console.log(addTo);
      setTimeout(function() {
    var d = document.getElementById("onlyTest");
    d.classList.add("hidden");
  }, 0);
      c=`<div class="cart-container col">
        <div class="row">
          <div class="cart-sec-sub1 col-md-8">`
          for(let i=0;i<addTo.length;i++)
          {
            c+=`<div class="cart-photo-nd-desc row">
                  <div class="image col-md-4">
                   <img src="${addTo[i].link}" class="sec-image">
                   </div>
                   <div class="cart-desc col-md-8">
                     <span class="title-cart"> <h3>${addTo[i].name}</h3><button class="remove-btn" name="${i}" onclick="cartremove()">X</button></span>
                      <h3>Amount Rs.50 /Kg</h3>
                      <form >
                      Enter : <input type="number" min="0.25" placeholder="0.000 in kgs" value="${addTo[i].value}" id="C${addTo[i].name}" step="any" required>
                      <p>Available</p>
                      <button class="buyNow-btn">Buy Now</button></form>
                   </div>
                </div>`
            }

    c+=`   </div>
         <div class="cart-sec-sub2 col-md-4">
           <h1>Total Price</h1><table id="calc-price-table">
           <tr><th>Name</th><th>Quantity</th><th>1 kg</th><th>price</th></tr>`
           let sum=0;
           for(let i=0;i<addTo.length;i++)
           {
            c+=`<tr><td>${addTo[i].name}</td><td>${addTo[i].value}</td><td>${50}</td><td>${(addTo[i].value*50).toFixed(2)}</td></tr>`
            sum+=addTo[i].value*50;
           }
           c+=`<hr><tr><td colspan="3">Total cost : </td><td>${sum}</td></tr></table><br><br><form><button class="buyNow-btn">Buy Now</button></form></div></div></div>`
         
return c;
}
function cartremove(){
    const btns=document.querySelectorAll(".remove-btn");
    let j=0;
    for(let i of btns)
    {
        i.onclick=del;
        
    }
}
function del(event)
{
    let i=event.target.name
    addTo.splice(i,1);
    document.getElementById("24").innerHTML=addTo.length;
    event.target.closest(".cart-photo-nd-desc").style.display="none";
    console.log(addTo)
    b=`<tr><th>Name</th><th>Quantity</th><th>1 kg</th><th>price</th></tr>`
           let sum=0;
           for(let i=0;i<addTo.length;i++)
           {
            b+=`<tr><td>${addTo[i].name}</td><td>${addTo[i].value}</td><td>${50}</td><td>${(addTo[i].value*50).toFixed(2)}</td></tr>`
            sum+=addTo[i].value*50;
           }
           b+=`<hr><tr><td colspan="3">Total cost : </td><td>${sum.toFixed(2)}</td></tr></table><br><br></div></div></div>`
    document.getElementById("calc-price-table").innerHTML=b;
}

function buyNow(){
    
}
//window pop back
 window.onpopstate = function(event) {
     console.log("popstate event fired");
     setTimeout(function() {
    var d = document.getElementById("onlyTest");
      d.classList.remove("hidden");
  }, 0);
};
    </script>
</body>

</html>